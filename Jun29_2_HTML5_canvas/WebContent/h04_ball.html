<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<script type="text/javascript" src="jQuery.js"></script>
<script type="text/javascript">
	$(function() {
		var paper = document.getElementById("cv");
		var pen = paper.getContext("2d");
		var ball = new Image();
		var ballX = 185;
		var xSpd = 7;
		var ballY = 235;
		var ySpd = 7;
		var barX = 150;
		ball.src = "ball.png";
		ball.onload = function() {
			var t = setInterval(function() {
				pen.save();
				pen.fillStyle = "rgba(0, 0, 0, 0.1)";
				pen.fillRect(0, 0, 400, 500);
				ballX += xSpd;
				ballY += ySpd;
				if (ballX >= 370 || ballX <= 0) {
					xSpd *= -1;
				}
				if (ballY <= 0) {
					ySpd *= -1;
				}
				if (ballY >= 455 && ballX >= barX - 15 && ballX <= barX + 85) {
					ySpd *= -1;
				}
				if (ballY >= 470) {
					clearInterval(t);
				}
				pen.shadowBlur = 20;
				pen.shadowColor = "red";
				pen.drawImage(ball, ballX, ballY);

				pen.shadowColor = "white";
				pen.fillStyle = "#689F38";
				pen.fillRect(barX, 485, 100, 15);

				pen.restore();
			}, 20);
		};

		$("canvas").mousemove(function(e) {
			// $("canvas").offset().left
			barX = e.pageX - 58;
		});
	});
</script>
</head>
<body>
	<canvas id="cv" width="400px" height="500px"></canvas>
</body>
</html>


